(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports=n(192)},180:function(e,t,n){},186:function(e,t){},187:function(e,t){},188:function(e,t){},189:function(e,t){},190:function(e,t){},191:function(e,t){},192:function(e,t,n){"use strict";n.r(t);n(143),n(168);var a=n(2),c=n.n(a),r=n(17),i=n.n(r),o=n(28),l=n.n(o),s=n(34),u=n(35),f=n(37),d=n(36),m=n(38),v=n(7),h=(n(178),n(82)),b=n(79),p=n.n(b),g=function(e){var t=e.id,n=e.go,a=c.a.useState(null),r=Object(h.a)(a,2),i=r[0],o=r[1];return c.a.createElement(v.f,{id:t},c.a.createElement(v.g,null,"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),c.a.createElement(v.d,null,c.a.createElement(v.b,null,c.a.createElement(v.c,{top:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",before:c.a.createElement(p.a,null),size:"xl",level:"secondary",onChange:function(e){console.log(e),o(URL.createObjectURL(e.target.files[0]))}})),c.a.createElement(v.b,null,c.a.createElement(v.a,{size:"xl",level:"2",onClick:n,"data-to":"persik"},"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"))),c.a.createElement(v.d,null,i&&c.a.createElement("img",{className:"Preview",src:i,alt:""})))},E=(n(180),n(80)),w=n.n(E),R=n(81),x=(n(193),Object(v.i)(),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).videoRef=c.a.createRef(),n.canvasRef=c.a.createRef(),n.detectFrame=function(e,t){t.detect(e).then(function(a){n.renderPredictions(a),requestAnimationFrame(function(){n.detectFrame(e,t)})})},n.renderPredictions=function(e){var t=n.canvasRef.current.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height);var a="16px sans-serif";t.font=a,t.textBaseline="top",e.forEach(function(e){var n=e.bbox[0],c=e.bbox[1],r=e.bbox[2],i=e.bbox[3];t.strokeStyle="#00FFFF",t.lineWidth=4,t.strokeRect(n,c,r,i),t.fillStyle="#00FFFF";var o=t.measureText(e.class).width,l=parseInt(a,10);t.fillRect(n,c,o+4,l+4)}),e.forEach(function(e){var n=e.bbox[0],a=e.bbox[1];t.fillStyle="#000000",t.fillText(e.class,n,a)})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){var t=navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:{exact:"environment"}}}).then(function(t){return window.stream=t,e.videoRef.current.srcObject=t,new Promise(function(t,n){e.videoRef.current.onloadedmetadata=function(){t()}})}),n=R.a();Promise.all([n,t]).then(function(t){e.detectFrame(e.videoRef.current,t[0])}).catch(function(e){console.error(e)})}}},{key:"render",value:function(){var e=this.props;return c.a.createElement(v.f,{id:e.id},c.a.createElement(v.g,{left:c.a.createElement(v.e,{onClick:e.go,"data-to":"home"},c.a.createElement(w.a,null))},"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"),c.a.createElement(v.d,null,c.a.createElement("section",{className:"Wrapper"},c.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,ref:this.videoRef,width:"300",height:"300"}),c.a.createElement("canvas",{className:"Canvas",ref:this.canvasRef,width:"300",height:"300"}))))}}]),t}(c.a.Component)),y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).go=function(e){n.setState({activePanel:e.currentTarget.dataset.to})},n.state={activePanel:"home",fetchedUser:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;l.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data});break;default:console.log(t.detail.type)}}),l.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return c.a.createElement(v.h,{activePanel:this.state.activePanel},c.a.createElement(g,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),c.a.createElement(x,{id:"persik",go:this.go}))}}]),t}(c.a.Component);l.a.send("VKWebAppInit",{}),i.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.19e22088.chunk.js.map