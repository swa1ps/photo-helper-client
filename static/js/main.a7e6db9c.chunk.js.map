{"version":3,"sources":["panels/Home.js","panels/Persik.js","panels/Result.js","App.js","index.js","img/noPls.png"],"names":["Home","_ref","id","go","onFileChange","react_default","a","createElement","es6","title","top","before","document_default","size","level","onChange","camera_default","onClick","data-to","Persik","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","videoRef","React","createRef","canvasRef","detectFrame","video","model","detect","then","predictions","people","filter","p","class","hasPerson","length","setState","renderPredictions","requestAnimationFrame","ctx","current","getContext","clearRect","canvas","width","height","font","textBaseline","forEach","prediction","x","bbox","y","strokeStyle","lineWidth","strokeRect","fillStyle","textWidth","measureText","textHeight","parseInt","fillRect","fillText","state","isLoading","_this2","md","MobileDetect","window","navigator","userAgent","mediaDevices","getUserMedia","webCamPromise","audio","facingMode","mobile","exact","stream","srcObject","Promise","resolve","reject","onloadedmetadata","modelPromise","cocoSsd","all","values","catch","error","console","finally","_this$props","_this$state","Icon","Icon28CancelOutline","Icon24Camera","text","left","back_default","className","disabled","accept","autoPlay","playsInline","muted","ref","src","noPls","Component","Result","preview","result","Fragment","alt","ROUTE","App","handleChangeFile","e","photo","target","files","formData","FormData","append","URL","createObjectURL","activePanel","fetch","method","body","response","json","link","currentTarget","dataset","to","panels_Home","src_panels_Persik","panels_Result","connect","send","ReactDOM","render","src_App","document","getElementById","module","exports","__webpack_require__"],"mappings":"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","file":"static/js/main.a7e6db9c.chunk.js","sourcesContent":["import React from 'react';\nimport { Panel, Button, Group, Div, PanelHeader, File } from '@vkontakte/vkui';\nimport Icon24Document from '@vkontakte/icons/dist/24/document';\nimport Icon24Camera from '@vkontakte/icons/dist/24/camera';\n\nconst Home = ({ id, go, onFileChange }) => {\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader>Главная</PanelHeader>\n\t\t\t<Group title='Загрузка картинки'>\n\t\t\t\t<Div>\n\t\t\t\t\t<File\n\t\t\t\t\t\ttop=\"Загрузить\"\n\t\t\t\t\t\tbefore={<Icon24Document />}\n\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\tlevel=\"secondary\"\n\t\t\t\t\t\tonChange={onFileChange}\n\t\t\t\t\t/>\n\t\t\t\t</Div>\n\t\t\t\t<Div>\n\t\t\t\t\t<Button before={<Icon24Camera />} size=\"xl\" level=\"2\" onClick={go} data-to=\"persik\">\n\t\t\t\t\t\tСделать фото\n\t\t\t\t\t</Button>\n\t\t\t\t</Div>\n\t\t\t</Group>\n\t\t</Panel>\n\t)\n};\n\nexport default Home;\n","import React from 'react';\nimport { Panel, PanelHeader, HeaderButton, Group, Spinner, File } from '@vkontakte/vkui';\nimport './Persik.css';\nimport noPls from '../img/noPls.png';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\nimport Icon24Camera from '@vkontakte/icons/dist/24/camera';\nimport Icon28CancelOutline from '@vkontakte/icons/dist/28/cancel_outline';\nimport * as cocoSsd from \"@tensorflow-models/coco-ssd\";\nimport \"@tensorflow/tfjs\";\n\nimport MobileDetect from 'mobile-detect';\n\nclass Persik extends React.Component {\n  videoRef = React.createRef();\n\tcanvasRef = React.createRef();\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tisLoading: true,\n\t\t\thasPerson: false\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\tconst md = new MobileDetect(window.navigator.userAgent);\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      const webCamPromise = navigator.mediaDevices\n        .getUserMedia({\n          audio: false,\n          video: {\n            facingMode: !md.mobile() ? \"user\" : { exact: \"environment\" }\n          }\n        })\n        .then(stream => {\n          window.stream = stream;\n          this.videoRef.current.srcObject = stream;\n          return new Promise((resolve, reject) => {\n            this.videoRef.current.onloadedmetadata = () => {\n              resolve();\n            };\n          });\n        });\n      const modelPromise = cocoSsd.load();\n      Promise.all([modelPromise, webCamPromise])\n        .then(values => {\n\t\t\t\t\tthis.detectFrame(this.videoRef.current, values[0]);\n        })\n        .catch(error => {\n          console.error(error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tisLoading: false\n\t\t\t\t\t})\n\t\t\t\t})\n    }\n\t}\n\n  detectFrame = (video, model) => {\n    model.detect(video).then(predictions => {\n\t\t\tconst people = predictions.filter(p => p.class === 'person');\n\t\t\tconst hasPerson = !!people.length;\n\t\t\tthis.setState({\n\t\t\t\thasPerson\n\t\t\t})\n\n      this.renderPredictions(people);\n      requestAnimationFrame(() => {\n        this.detectFrame(video, model);\n      });\n    });\n  };\n\n  renderPredictions = predictions => {\n    const ctx = this.canvasRef.current.getContext(\"2d\");\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    const font = \"16px sans-serif\";\n    ctx.font = font;\n\t\tctx.textBaseline = \"top\";\n    predictions.forEach(prediction => {\n      const x = prediction.bbox[0];\n      const y = prediction.bbox[1];\n      const width = prediction.bbox[2];\n      const height = prediction.bbox[3];\n\n      ctx.strokeStyle = \"red\";\n      ctx.lineWidth = 4;\n      ctx.strokeRect(x, y, width, height);\n\n      ctx.fillStyle = \"red\";\n      const textWidth = ctx.measureText(prediction.class).width;\n      const textHeight = parseInt(font, 10);\n      ctx.fillRect(x, y, textWidth + 15, textHeight + 4);\n    });\n\n    predictions.forEach(prediction => {\n      const x = prediction.bbox[0];\n      const y = prediction.bbox[1];\n\n      ctx.fillStyle = \"#000000\";\n      ctx.fillText('Человек', x, y);\n    });\n  };\n\n\n  render() {\n\t\tconst {id, go, onFileChange} = this.props;\n\t\tconst { hasPerson, isLoading } = this.state;\n\t\tconst Icon = hasPerson ? Icon28CancelOutline : Icon24Camera;\n\t\tconst text = hasPerson ? 'СРОЧНО УБЕРИТЕ ЛЮДЕЙ!!!!!!' : 'Сфотографировать';\n\n    return (\n\t\t\t\t<Panel id={id}>\n\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\tleft={<HeaderButton onClick={go} data-to=\"home\">\n\t\t\t\t\t\t\t<Icon24Back/>\n\t\t\t\t\t\t</HeaderButton>}\n\t\t\t\t\t>\n\t\t\t\t\t\tСфотографировать\n\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisLoading ? (\n\t\t\t\t\t\t\t\t<div className='Preloader'>\n\t\t\t\t\t\t\t\t\t<Spinner className=\"Spinner\" /> <span>Подготовка помощника</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<File\n\t\t\t\t\t\t\t\t\tsize=\"xl\"\n\t\t\t\t\t\t\t\t\tlevel=\"2\"\n\t\t\t\t\t\t\t\t\tonChange={onFileChange} before={<Icon />}\n\t\t\t\t\t\t\t\t\tdisabled={hasPerson}\n\t\t\t\t\t\t\t\t\taccept=\"image/*;capture=camera\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{text}\n\t\t\t\t\t\t\t\t</File>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<section className=\"Wrapper\">\n\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\tplaysInline\n\t\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\t\tref={this.videoRef}\n\t\t\t\t\t\t\t\twidth=\"400\"\n\t\t\t\t\t\t\t\theight=\"400\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<canvas\n\t\t\t\t\t\t\t\tclassName=\"Canvas\"\n\t\t\t\t\t\t\t\tref={this.canvasRef}\n\t\t\t\t\t\t\t\twidth=\"400\"\n\t\t\t\t\t\t\t\theight=\"400\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\thasPerson && <img src={noPls} className=\"NoPls\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</Group>\n\t\t\t\t</Panel>\n\n    );\n  }\n}\n\nexport default Persik;\n","import React from 'react';\nimport { Panel, Group, PanelHeader, HeaderButton, Spinner } from '@vkontakte/vkui';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nconst Result = ({ id, go, preview, result, isLoading }) => {\n\n\treturn (\n\t\t<Panel id={id}>\n\t\t\t<PanelHeader\n\t\t\t\tleft={\n\t\t\t\t\t<HeaderButton onClick={go} data-to=\"home\">\n\t\t\t\t\t\t<Icon24Back/>\n\t\t\t\t\t</HeaderButton>\n\t\t\t\t}\n\t\t\t>Результат</PanelHeader>\n\t\t\t{\n\t\t\t\t\t(isLoading || result) && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Group title=\"Стало\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tisLoading && (\n\t\t\t\t\t\t\t\t\t\t<div className='Preloader'>\n\t\t\t\t\t\t\t\t\t\t\t<Spinner className=\"Spinner\" /> <span>Загрузка</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t!isLoading && result && (\n\t\t\t\t\t\t\t\t\t\t<img className=\"Preview\" src={result} alt=\"стало\"/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tpreview && (\n\t\t\t\t\t\t<Group title=\"Было\">\n\t\t\t\t\t\t\t<img className=\"Preview\" src={preview} alt=\"было\"/>\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t</Panel>\n\t)\n};\n\nexport default Result;\n","import React from 'react';\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\nimport Persik from './panels/Persik';\nimport Result from './panels/Result';\n\nconst ROUTE = 'https://api-government-dev.itlabs.io/etagi-sale/photo/api/photo_process'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tisLoading: false,\n\t\t\tresult: null,\n\t\t\tpreview: null\n\t\t};\n\t}\n\n\thandleChangeFile = (e) => {\n\t\tconst photo = e.target.files[0];\n\n\t\tvar formData  = new FormData();\n\t\tformData.append(\"photo\", photo);\n\t\t\n\t\tthis.setState({\n\t\t\tisLoading: true,\n\t\t\tpreview: URL.createObjectURL(photo),\n\t\t\tactivePanel: 'result'\n\t\t})\n\n\t\tfetch(ROUTE, {\n\t\t\tmethod: 'POST',\n\t\t\tbody: formData\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(json => {\n\t\t\tthis.setState({\n\t\t\t\tisLoading: false,\n\t\t\t\tresult: json.link\n\t\t\t})\n\t\t});\n\t}\n\n\tgo = (e) => {\n\t\tthis.setState({ activePanel: e.currentTarget.dataset.to })\n\t};\n\n\trender() {\n\t\tconst { result, preview, isLoading } = this.state;\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel}>\n\t\t\t\t<Home id=\"home\" go={this.go} onFileChange={this.handleChangeFile}  />\n\t\t\t\t<Persik id=\"persik\" onFileChange={this.handleChangeFile} go={this.go} />\n\t\t\t\t<Result id=\"result\" go={this.go} result={result} preview={preview} isLoading={isLoading} />\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/noPls.8b01e801.png\";"],"sourceRoot":""}